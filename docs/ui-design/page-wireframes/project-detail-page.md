# 项目详情页面线框图

## 📋 页面信息

- **页面名称**: 项目详情页面
- **页面路径**: `/project-detail`
- **页面类型**: 详情页面
- **访问权限**: 需要登录
- **创建日期**: 2025年10月21日
- **最后更新**: 2025年10月22日
- **下次评审**: 2025年11月1日

## 🎯 页面布局

### 默认状态（全宽显示）
```
┌─────────────────────────────────────────────────────────┐
│ SPCP Logo    导航菜单                                    │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  📁 项目名称                                        ⋯    │
│                                                         │
│  项目文件                                                │
│  ┌─────────────────────────────────────────────────────┐ │
│  │ 📄 LICENSE                                          │ │
│  │ 📄 README.md                                        │ │
│  │                                                     │ │
│  │ ──────────── 本地工作区 ────────────                 │ │
│  │ 📄 test.md 🆕                                       │ │
│  │ 📁 docs 🆕                                          │ │
│  │                                                     │ │
│  │ [创建文件] [创建目录] [打开] [删除] [上传文件] [检查更新]              │ │
│  └─────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────┘
```

### 下拉菜单状态
```
┌─────────────────────────────────────────────────────────┐
│ SPCP Logo    导航菜单                                    │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  📁 项目名称                                        ⋯    │
│                                                         │
│  ┌─────────────────────────────────────────────────────┐ │
│  │ 项目信息                                            │ │
│  │ 项目成员                                            │ │
│  │ 最近活动                                            │ │
│  │ 待审核内容                                          │ │
│  └─────────────────────────────────────────────────────┘ │
│                                                         │
│  项目文件                                                │
│  ┌─────────────────────────────────────────────────────┐ │
│  │ 📄 LICENSE                                          │ │
│  │ 📄 README.md                                        │ │
│  │                                                     │ │
│  │ ──────────── 本地工作区 ────────────                 │ │
│  │ 📄 test.md 🆕                                       │ │
│  │ 📁 docs 🆕                                          │ │
│  │                                                     │ │
│  │ [创建文件] [创建目录] [打开] [删除] [上传文件] [检查更新]              │ │
│  └─────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────┘
```

### 分割视图状态（75% + 25%）
```
┌─────────────────────────────────────────────────────────┐
│ SPCP Logo    导航菜单                                    │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  📁 项目名称                                        ⋯    │
│                                                         │
│  项目文件 (75%)                   项目信息 (25%)        │
│  ┌─────────────────────────┐   ┌─────────────────────┐   │
│  │ 📄 LICENSE              │   │ 项目信息        ×    │   │
│  │ 📄 README.md            │   │ ──────────────────  │   │
│  │                         │   │ 创建者: ZelaCreator │   │
│  │ ──── 本地工作区 ────     │   │ 描述: DPCC         │   │
│  │ 📄 test.md 🆕           │   │ 贡献者: 1人         │   │
│  │ 📁 docs 🆕              │   │ 最后更新: 8小时前   │   │
│  │                         │   │ 状态: 活跃          │   │
│  │ [创建文件] [创建目录]    │   │                     │   │
│  │ [删除] [上传文件]       │   │                     │   │
│  └─────────────────────────┘   └─────────────────────┘   │
└─────────────────────────────────────────────────────────┘
```

## 🎨 视觉设计

### 布局原则
- **简化优先**: 默认只显示核心的文件管理功能
- **按需显示**: 详细信息通过下拉菜单按需展示
- **响应式布局**: 支持全宽和分割视图两种模式
- **平滑过渡**: 布局切换使用CSS transition动画

### 色彩方案
- **主背景**: 使用主题变量 `--bg-primary`
- **信息面板**: 使用 `--bg-secondary` 区分层次
- **边框**: 使用 `--border-color` 统一边框样式
- **文字**: 使用 `--text-primary` 和 `--text-secondary`

### 间距系统
- **标准间距**: 使用 8px 网格系统
- **面板间距**: 文件区域和信息面板之间 16px 间距
- **内容间距**: 内部元素使用 8px、12px、16px 间距

## 🔧 功能特性

### 主要功能
1. **文件管理**: 创建、删除、上传文件和目录
2. **本地工作区**: 显示本地修改的文件，带状态标识
3. **信息查看**: 通过下拉菜单查看项目详细信息
4. **布局切换**: 智能的全宽/分割视图切换
5. **版本同步**: 检查并同步GitHub上的最新版本

### 交互设计
1. **下拉菜单**: 点击"⋯"按钮显示菜单选项
2. **信息面板**: 点击菜单项显示对应信息
3. **关闭按钮**: 点击"×"关闭信息面板
4. **文件选择**: 点击文件进行选中，选中后显示【打开】和【删除】按钮
5. **文件操作**: 点击【打开】按钮进入编辑页面，点击【删除】按钮删除文件
6. **版本检查**: 点击【检查更新】按钮检查GitHub上的最新版本
7. **版本同步**: 发现新版本时显示确认对话框，用户确认后自动同步

### 状态管理
- **默认状态**: 全宽显示，只显示文件管理功能
- **菜单状态**: 显示下拉菜单选项
- **信息状态**: 分割视图显示详细信息
- **工作区状态**: 本地文件显示🆕状态标识
- **检查状态**: 检查更新时按钮显示"检查更新中..."
- **同步状态**: 同步文件时按钮显示"同步中..."
- **完成状态**: 检查完成后按钮显示"已是最新版本"或"同步完成"

## 📱 响应式设计

### 桌面端 (≥1024px)
- 全宽模式：文件区域占满100%宽度
- 分割模式：文件区域75%，信息面板25%
- 下拉菜单：右上角显示

### 平板端 (768px - 1023px)
- 自适应布局：根据屏幕宽度调整比例
- 信息面板：最小宽度200px
- 触摸优化：增大按钮和点击区域

### 移动端 (<768px)
- 全宽显示：移动端默认全宽显示
- 堆叠布局：信息面板在文件区域下方显示
- 简化菜单：下拉菜单适配小屏幕

## 🎯 用户体验

### 新手友好
- **简化界面**: 默认只显示核心功能，减少认知负担
- **渐进式披露**: 详细信息按需显示，避免信息过载
- **直观操作**: 文件操作按钮清晰，状态反馈明确

### 高效操作
- **快速访问**: 常用功能直接可见
- **智能布局**: 自动调整布局适应不同需求
- **状态保持**: 记住用户的布局偏好

### 视觉层次
- **主次分明**: 文件管理为主要功能，信息查看为辅助功能
- **状态区分**: 本地工作区文件有明显标识
- **色彩引导**: 使用颜色区分不同状态和操作

## 🔄 交互流程

### 查看项目信息流程
1. 用户进入项目详情页面（默认全宽显示）
2. 点击项目标题右侧的"⋯"按钮
3. 从下拉菜单选择"项目信息"
4. 页面切换到分割视图，右侧显示项目信息
5. 点击"×"按钮关闭信息面板，恢复全宽显示

### 文件管理流程
1. 用户在文件区域看到仓库文件和本地工作区文件
2. 点击文件进行选中，选中后显示【打开】和【删除】按钮
3. 点击【打开】按钮进入编辑页面，点击【删除】按钮删除文件
4. 本地修改的文件显示🆕标识
5. 使用操作按钮创建新文件或目录

### 版本同步流程
1. 用户点击【检查更新】按钮
2. 系统检查GitHub上的最新提交信息
3. 与本地最后同步时间比较
4. 如果有新版本，显示确认对话框，包含提交信息和时间
5. 用户确认后，系统下载最新文件并保存到本地存储
6. 同步完成后刷新文件列表，显示最新状态

## 📊 数据展示

### 文件列表
- **仓库文件**: 显示GitHub仓库中的原始文件
- **本地工作区**: 显示用户本地修改的文件
- **状态标识**: 🆕新创建、✏️已修改、🗑️已删除
- **同步状态**: 显示最后同步时间和版本信息

### 项目信息
- **基本信息**: 创建者、描述、贡献者数量
- **状态信息**: 最后更新时间、项目状态
- **实时更新**: 数据从GitHub API获取

## 🎨 设计规范

### 组件规范
- **按钮**: 使用统一的按钮样式系统
- **面板**: 信息面板使用卡片式设计
- **菜单**: 下拉菜单使用悬浮卡片样式
- **图标**: 使用emoji图标保持简洁

### 动画规范
- **过渡时间**: 0.3s ease
- **布局切换**: 平滑的宽度变化动画
- **菜单显示**: 淡入淡出效果
- **状态变化**: 微妙的颜色过渡

## 🔧 技术实现

### CSS架构
- **布局系统**: Flexbox + CSS Grid
- **主题系统**: CSS变量支持深色/浅色主题
- **响应式**: 媒体查询适配不同屏幕
- **动画**: CSS transition实现平滑过渡

### JavaScript功能
- **布局管理**: 动态切换全宽/分割视图
- **菜单控制**: 下拉菜单显示/隐藏
- **数据渲染**: 动态渲染信息面板内容
- **状态管理**: 保存和恢复布局状态
- **版本检查**: 通过GitHub API检查最新提交
- **文件同步**: 递归下载并保存最新文件到本地存储
- **同步管理**: 记录和管理最后同步时间

## 📝 更新日志

### 2025-10-22
- **版本同步**: 添加【检查更新】按钮，支持检查并同步GitHub最新版本
- **智能检测**: 通过比较提交时间判断是否有新版本
- **用户确认**: 发现新版本时显示详细确认对话框
- **自动同步**: 用户确认后自动下载并保存最新文件
- **状态反馈**: 按钮状态实时显示检查进度和结果
- **同步管理**: 记录最后同步时间，避免重复提示

### 2025-10-21
- **界面简化**: 移除右上角用户信息和通知按钮
- **布局优化**: 实现智能的全宽/分割视图切换
- **下拉菜单**: 添加"⋯"按钮和下拉菜单功能
- **信息面板**: 实现右侧信息面板，支持4种信息类型
- **关闭功能**: 添加关闭按钮，可以恢复全宽显示
- **用户体验**: 优化界面布局，对新手更友好
- **文件选择**: 添加【打开】按钮，改进文件操作流程
- **交互优化**: 点击文件先选中，再点击【打开】按钮进入编辑页面

### 设计原则
- **简化优先**: 默认界面简洁，减少认知负担
- **按需显示**: 详细信息通过交互按需展示
- **智能布局**: 根据用户操作自动调整布局
- **平滑过渡**: 所有布局变化都有动画效果